import { Injectable } from '@angular/core';
import { CommonUtils } from './common-utils.service';
import { CryptoService } from './crypto.service';
import * as i0 from "@angular/core";
class StorageData {
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.5", ngImport: i0, type: StorageData, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "16.2.5", ngImport: i0, type: StorageData, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.5", ngImport: i0, type: StorageData, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }] });
export class HrStorage {
    static { this.expriteIn = '_expriteIn'; }
    static { this.instanceName = '_HrStorage'; }
    static { this.storage = localStorage; }
    /**
     * init
     */
    static init() {
    }
    /**
     * isExprited
     */
    static isExprited() {
        return false;
    }
    /**
     * clear
     */
    static clear() {
        this.storage.removeItem(this.instanceName);
    }
    /**
     * storedData
     */
    static storedData() {
        const storedData = this.storage.getItem(this.instanceName);
        if (CommonUtils.isNullOrEmpty(storedData)) {
            return {};
        }
        return CryptoService.decr(storedData);
    }
    /**
     * get
     */
    static get(key) {
        if (this.isExprited()) {
            return null;
        }
        const storedData = this.storedData();
        if (storedData == null) {
            return null;
        }
        return storedData[key];
    }
    /**
     * get
     */
    static set(key, val) {
        let storedData = this.storedData();
        if (storedData == null) {
            storedData = new StorageData();
        }
        storedData[key] = val;
        this.storage.setItem(this.instanceName, CryptoService.encr(storedData));
    }
    /**
     * getUserToken
     */
    static getUserToken() {
        return this.get('userToken');
    }
    /**
     * setUserToken
     */
    static setUserToken(userToken) {
        return this.set('userToken', userToken);
    }
    /**
     * getNavState
     */
    static getNavState() {
        const navState = this.get('navState');
        return navState === null ? false : navState;
    }
    /**
     * setNavState
     */
    static setNavState(navState) {
        this.set('navState', navState);
    }
    /**
     * getNavFlipState
     */
    static getNavFlipState() {
        const navFlipState = this.get('navFlipState');
        return navFlipState === null ? false : navFlipState;
    }
    /**
     * setNavFlipState
     */
    static setNavFlipState(navFlipState) {
        this.set('navFlipState', navFlipState);
    }
    /**
     * getSearchState
     */
    static getSearchState() {
        return this.get('searchState');
    }
    /**
     * setNavFlipState
     */
    static setSearchState(searchState) {
        this.set('searchState', searchState);
    }
    /**
     * getSelectedLang
     */
    static getSelectedLang() {
        const listLang = this.getListLang();
        if (listLang == null) {
            return null;
        }
        for (const item of listLang) {
            if (item.isDefault === 1) {
                return item;
            }
        }
        return listLang[0];
    }
    /**
    * setSelectedLang
    */
    static setSelectedLang(object) {
        const listLang = this.getListLang();
        if (listLang == null) {
            return;
        }
        for (const item of listLang) {
            if (object.code === item.code) {
                item.isDefault = 1;
            }
            else {
                item.isDefault = null;
            }
        }
        this.setListLang(listLang);
    }
    /**
     * getListLang
     */
    static getListLang() {
        return this.get('listLang');
    }
    /**
     * setListLang
     */
    static setListLang(listLang) {
        this.set('listLang', listLang);
    }
    /**
     * getCurrentMarket
     */
    static getSelectedMarket() {
        const listMarket = this.getListMarket();
        if (listMarket == null) {
            return null;
        }
        for (const item of listMarket) {
            if (item.isDefault && item.isDefault === 1) {
                return item;
            }
        }
        return listMarket[0];
    }
    /**
     * setSelectedMarket
     */
    static setSelectedMarket(object) {
        const listMarket = this.getListMarket();
        if (listMarket == null) {
            return;
        }
        for (const item of listMarket) {
            if (object.marketCompanyId === item.marketCompanyId) {
                item.isDefault = 1;
            }
            else {
                item.isDefault = null;
            }
        }
        this.setListMarket(listMarket);
    }
    /**
     * getListMarket
     */
    static getListMarket() {
        return this.get('listMarket');
    }
    /**
     * setListMarket
     */
    static setListMarket(listMarket) {
        this.set('listMarket', listMarket);
    }
    /**
     * getCurrentUrl
     */
    static getCurrentUrl() {
        return this.get('currentUrl');
    }
    /**
     * setCurrentUrl
     */
    static setCurrentUrl(currentUrl) {
        this.set('currentUrl', currentUrl);
    }
    /**
     * getIntro
     */
    static getIntro() {
        return this.get('intro');
    }
    /**
     * setIntro
     */
    static setIntro(intro) {
        this.set('intro', intro);
    }
    /**
     * introIsDone
     * @ param screenCode
     */
    static introIsDone(screenCode) {
        const intro = this.getIntro();
        if (intro == null || intro.length === 0) {
            return false;
        }
        return intro.indexOf(screenCode) > -1;
    }
    /**
     * introIsDone
     * @ param screenCode
     */
    static introSetDone(screenCode) {
        let intro = this.getIntro();
        if (intro == null || intro.length === 0) {
            intro = [];
        }
        if (intro.indexOf(screenCode) > -1) {
            return;
        }
        intro.push(screenCode);
        this.setIntro(intro);
    }
    /**
     * getTheme
     */
    static getTheme() {
        return this.get('theme');
    }
    /**
     * setTheme
     */
    static setTheme(theme) {
        this.set('theme', theme);
    }
    /**
     * setSessionId
     */
    static setSessionId(id) {
        this.set('sessionId', id);
    }
    /**
    * getSessionId
    */
    static getSessionId() {
        return this.get('sessionId');
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSHJTdG9yYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcngtc2NvcmUvc3JjL2xpYi9zaGFyZWQvc2VydmljZXMvSHJTdG9yYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3JELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQzs7QUFFakQsTUFHTSxXQUFXOzhHQUFYLFdBQVc7a0hBQVgsV0FBVyxjQUZELE1BQU07OzJGQUVoQixXQUFXO2tCQUhoQixVQUFVO21CQUFDO29CQUNSLFVBQVUsRUFBRSxNQUFNO2lCQUNyQjs7QUFXRCxNQUFNLE9BQU8sU0FBUzthQUVILGNBQVMsR0FBRyxZQUFZLENBQUM7YUFDekIsaUJBQVksR0FBRyxZQUFZLENBQUM7YUFFNUIsWUFBTyxHQUFHLFlBQVksQ0FBQztJQUV0Qzs7T0FFRztJQUNJLE1BQU0sQ0FBQyxJQUFJO0lBRWxCLENBQUM7SUFDRDs7T0FFRztJQUNJLE1BQU0sQ0FBQyxVQUFVO1FBQ3BCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFDRDs7T0FFRztJQUNJLE1BQU0sQ0FBQyxLQUFLO1FBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRDs7T0FFRztJQUNJLE1BQU0sQ0FBQyxVQUFVO1FBQ3BCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMzRCxJQUFJLFdBQVcsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDdkMsT0FBTyxFQUFFLENBQUM7U0FDYjtRQUNELE9BQU8sYUFB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LFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQ7O01BRUU7SUFDSyxNQUFNLENBQUMsWUFBWTtRQUN0QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDakMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVXNlclRva2VuIH0gZnJvbSAnLi91c2VyLXRva2VuLm1vZGVsJztcclxuaW1wb3J0IHsgQ29tbW9uVXRpbHMgfSBmcm9tICcuL2NvbW1vbi11dGlscy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQ3J5cHRvU2VydmljZSB9IGZyb20gJy4vY3J5cHRvLnNlcnZpY2UnO1xyXG5cclxuQEluamVjdGFibGUoe1xyXG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXHJcbn0pXHJcbmNsYXNzIFN0b3JhZ2VEYXRhIHtcclxuICAgIHVzZXJUb2tlbj86IFVzZXJUb2tlbjtcclxuICAgIG5hdlN0YXRlPzogYm9vbGVhbjtcclxuICAgIG5hdkZsaXBTdGF0ZT86IGJvb2xlYW47XHJcbiAgICBzZWFyY2hTdGF0ZT86IGFueTtcclxuICAgIGxpc3RMYW5nPzogYW55O1xyXG4gICAgbGlzdE1hcmtldD86IGFueTtcclxuICAgIGN1cnJlbnRVcmw/OiBhbnk7XHJcbiAgICBpbnRybz86IGFueTtcclxufVxyXG5leHBvcnQgY2xhc3MgSHJTdG9yYWdlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgZGF0YTogU3RvcmFnZURhdGE7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBleHByaXRlSW4gPSAnX2V4cHJpdGVJbic7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZU5hbWUgPSAnX0hyU3RvcmFnZSc7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc3RvcmFnZSA9IGxvY2FsU3RvcmFnZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGluaXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBpbml0KCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogaXNFeHByaXRlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzRXhwcml0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBjbGVhclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuaW5zdGFuY2VOYW1lKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc3RvcmVkRGF0YVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0b3JlZERhdGEoKTogU3RvcmFnZURhdGEge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmluc3RhbmNlTmFtZSk7XHJcbiAgICAgICAgaWYgKENvbW1vblV0aWxzLmlzTnVsbE9yRW1wdHkoc3RvcmVkRGF0YSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ3J5cHRvU2VydmljZS5kZWNyKHN0b3JlZERhdGEpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXQoa2V5OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRXhwcml0ZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkRGF0YSA9IHRoaXMuc3RvcmVkRGF0YSgpO1xyXG4gICAgICAgIGlmIChzdG9yZWREYXRhID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoc3RvcmVkRGF0YSBhcyBhbnkpW2tleV07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldChrZXk6IHN0cmluZywgdmFsOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIGxldCBzdG9yZWREYXRhID0gdGhpcy5zdG9yZWREYXRhKCk7XHJcbiAgICAgICAgaWYgKHN0b3JlZERhdGEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzdG9yZWREYXRhID0gbmV3IFN0b3JhZ2VEYXRhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIChzdG9yZWREYXRhIGFzIGFueSlba2V5XSA9IHZhbDtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0odGhpcy5pbnN0YW5jZU5hbWUsIENyeXB0b1NlcnZpY2UuZW5jcihzdG9yZWREYXRhKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldFVzZXJUb2tlblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFVzZXJUb2tlbigpOiBVc2VyVG9rZW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldCgndXNlclRva2VuJyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHNldFVzZXJUb2tlblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFVzZXJUb2tlbih1c2VyVG9rZW46IFVzZXJUb2tlbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldCgndXNlclRva2VuJywgdXNlclRva2VuKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogZ2V0TmF2U3RhdGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXROYXZTdGF0ZSgpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBuYXZTdGF0ZSA9IHRoaXMuZ2V0KCduYXZTdGF0ZScpO1xyXG4gICAgICAgIHJldHVybiBuYXZTdGF0ZSA9PT0gbnVsbCA/IGZhbHNlIDogbmF2U3RhdGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHNldE5hdlN0YXRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TmF2U3RhdGUobmF2U3RhdGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldCgnbmF2U3RhdGUnLCBuYXZTdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldE5hdkZsaXBTdGF0ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE5hdkZsaXBTdGF0ZSgpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBuYXZGbGlwU3RhdGUgPSB0aGlzLmdldCgnbmF2RmxpcFN0YXRlJyk7XHJcbiAgICAgICAgcmV0dXJuIG5hdkZsaXBTdGF0ZSA9PT0gbnVsbCA/IGZhbHNlIDogbmF2RmxpcFN0YXRlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXROYXZGbGlwU3RhdGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXROYXZGbGlwU3RhdGUobmF2RmxpcFN0YXRlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXQoJ25hdkZsaXBTdGF0ZScsIG5hdkZsaXBTdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldFNlYXJjaFN0YXRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U2VhcmNoU3RhdGUoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NlYXJjaFN0YXRlJyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHNldE5hdkZsaXBTdGF0ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFNlYXJjaFN0YXRlKHNlYXJjaFN0YXRlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldCgnc2VhcmNoU3RhdGUnLCBzZWFyY2hTdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldFNlbGVjdGVkTGFuZ1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFNlbGVjdGVkTGFuZygpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RMYW5nID0gdGhpcy5nZXRMaXN0TGFuZygpO1xyXG4gICAgICAgIGlmIChsaXN0TGFuZyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdExhbmcpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaXNEZWZhdWx0ID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGlzdExhbmdbMF07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogc2V0U2VsZWN0ZWRMYW5nXHJcbiAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTZWxlY3RlZExhbmcob2JqZWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBsaXN0TGFuZyA9IHRoaXMuZ2V0TGlzdExhbmcoKTtcclxuICAgICAgICBpZiAobGlzdExhbmcgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0TGFuZykge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0LmNvZGUgPT09IGl0ZW0uY29kZSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5pc0RlZmF1bHQgPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5pc0RlZmF1bHQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0TGlzdExhbmcobGlzdExhbmcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRMaXN0TGFuZ1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldExpc3RMYW5nKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdsaXN0TGFuZycpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRMaXN0TGFuZ1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldExpc3RMYW5nKGxpc3RMYW5nOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldCgnbGlzdExhbmcnLCBsaXN0TGFuZyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldEN1cnJlbnRNYXJrZXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRTZWxlY3RlZE1hcmtldCgpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RNYXJrZXQgPSB0aGlzLmdldExpc3RNYXJrZXQoKTtcclxuICAgICAgICBpZiAobGlzdE1hcmtldCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdE1hcmtldCkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5pc0RlZmF1bHQgJiYgaXRlbS5pc0RlZmF1bHQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0TWFya2V0WzBdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRTZWxlY3RlZE1hcmtldFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFNlbGVjdGVkTWFya2V0KG9iamVjdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgbGlzdE1hcmtldCA9IHRoaXMuZ2V0TGlzdE1hcmtldCgpO1xyXG4gICAgICAgIGlmIChsaXN0TWFya2V0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdE1hcmtldCkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0Lm1hcmtldENvbXBhbnlJZCA9PT0gaXRlbS5tYXJrZXRDb21wYW55SWQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uaXNEZWZhdWx0ID0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uaXNEZWZhdWx0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldExpc3RNYXJrZXQobGlzdE1hcmtldCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldExpc3RNYXJrZXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRMaXN0TWFya2V0KCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdsaXN0TWFya2V0Jyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHNldExpc3RNYXJrZXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXRMaXN0TWFya2V0KGxpc3RNYXJrZXQ6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0KCdsaXN0TWFya2V0JywgbGlzdE1hcmtldCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRDdXJyZW50VXJsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q3VycmVudFVybCgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnY3VycmVudFVybCcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRDdXJyZW50VXJsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0Q3VycmVudFVybChjdXJyZW50VXJsOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldCgnY3VycmVudFVybCcsIGN1cnJlbnRVcmwpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRJbnRyb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEludHJvKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdpbnRybycpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRJbnRyb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEludHJvKGludHJvOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldCgnaW50cm8nLCBpbnRybyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGludHJvSXNEb25lXHJcbiAgICAgKiBAIHBhcmFtIHNjcmVlbkNvZGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBpbnRyb0lzRG9uZShzY3JlZW5Db2RlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBpbnRybyA9IHRoaXMuZ2V0SW50cm8oKTtcclxuICAgICAgICBpZiAoaW50cm8gPT0gbnVsbCB8fCBpbnRyby5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW50cm8uaW5kZXhPZihzY3JlZW5Db2RlKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBpbnRyb0lzRG9uZVxyXG4gICAgICogQCBwYXJhbSBzY3JlZW5Db2RlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaW50cm9TZXREb25lKHNjcmVlbkNvZGU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBpbnRybyA9IHRoaXMuZ2V0SW50cm8oKTtcclxuICAgICAgICBpZiAoaW50cm8gPT0gbnVsbCB8fCBpbnRyby5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaW50cm8gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGludHJvLmluZGV4T2Yoc2NyZWVuQ29kZSkgPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludHJvLnB1c2goc2NyZWVuQ29kZSk7XHJcbiAgICAgICAgdGhpcy5zZXRJbnRybyhpbnRybyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRUaGVtZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFRoZW1lKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd0aGVtZScpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRUaGVtZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFRoZW1lKHRoZW1lOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldCgndGhlbWUnLCB0aGVtZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHNldFNlc3Npb25JZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFNlc3Npb25JZChpZDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXQoJ3Nlc3Npb25JZCcsIGlkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogZ2V0U2Vzc2lvbklkXHJcbiAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRTZXNzaW9uSWQoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3Nlc3Npb25JZCcpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=